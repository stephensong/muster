<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Essential Nodes · Muster</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;core-muster-nodes&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#core-muster-nodes&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Core Muster nodes&lt;/h2&gt;
"/><meta name="docsearch:version" content="6.7.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Essential Nodes · Muster"/><meta property="og:type" content="website"/><meta property="og:url" content="https://dwstech.github.io/muster/index.html"/><meta property="og:description" content="&lt;h2&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;core-muster-nodes&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#core-muster-nodes&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Core Muster nodes&lt;/h2&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/muster/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/vs2015.min.css"/><link rel="alternate" type="application/atom+xml" href="https://dwstech.github.io/muster/blog/atom.xml" title="Muster Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://dwstech.github.io/muster/blog/feed.xml" title="Muster Blog RSS Feed"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-129699840-1"></script><script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments); }
              gtag('js', new Date());
              gtag('config', 'UA-129699840-1');
            </script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab"/><link rel="stylesheet" href="https://unpkg.com/tippy.js@3/dist/themes/light.css"/><script type="text/javascript" src="https://cdn.polyfill.io/v2/polyfill.min.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://unpkg.com/quicklink@1.0.0/dist/quicklink.umd.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js" async=""></script><script type="text/javascript" src="https://unpkg.com/tippy.js@3/dist/tippy.all.min.js" async=""></script><script type="text/javascript" src="/muster/js/code-blocks-buttons.js" async=""></script><script type="text/javascript" src="/muster/js/glossary.min.js" async=""></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/muster/css/main.css"/><script src="/muster/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/muster/"><h2 class="headerTitle">Muster</h2></a><a href="/muster/versions"><h3>6.7.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/muster/docs/overview" target="_self">Docs</a></li><li class=""><a href="/muster/api/latest/" target="_self">API reference</a></li><li class=""><a href="/muster/playground/" target="_self">Playground</a></li><li class="siteNavGroupActive"><a href="/muster/docs/resources/faq" target="_self">FAQ</a></li><li class=""><a href="/muster/help" target="_self">Help</a></li><li class=""><a href="/muster/blog/" target="_self">Notes</a></li><li class=""><a href="https://github.com/dwstech/muster" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Resources</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Overview</h3><ul class=""><li class="navListItem"><a class="navItem" href="/muster/docs/overview">Muster Overview</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Learn</h3><ul class=""><li class="navListItem"><a class="navItem" href="/muster/docs/learn/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/graph-structure">Graph Data Structure</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/nodes">Nodes</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/variables">Variables</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/matchers">Matchers</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/async-data">Asynchronous Data</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/functions">Functions</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/queries">Queries</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/collections">Collections</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/learn/control-flow">Control Flow</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Understanding Muster</h3><ul class=""><li class="navListItem"><a class="navItem" href="/muster/docs/understanding-muster/data-store">How Muster Stores Data</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/understanding-muster/resolution-chains">Resolution Chains</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/understanding-muster/explicit-definition">Explicit Definitions</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/understanding-muster/lifecycle-of-a-node">Lifecycle of a Node</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/understanding-muster/scope">Scope</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/understanding-muster/crafting-muster-nodes">Crafting Muster Nodes</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Tutorials</h3><ul class=""><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Muster</h4><ul><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-server">Muster on the Server</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-lazy-loading">Lazy loading graphs</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-worker">Running Muster in a Worker</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-cookbook">Muster Cookbook</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-testing">Muster Unit Testing</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Muster React</h4><ul><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-react-tutorial">Muster React Tutorial</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-react-cookbook">Muster React Cookbook</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/tutorials/muster-react-testing">Muster React Unit Testing</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Resources</h3><ul class=""><li class="navListItem"><a class="navItem" href="/muster/docs/resources/setup">Setup</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/resources/faq">Frequently Asked Questions (FAQ)</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/muster/docs/resources/essential-nodes">Essential Nodes</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/resources/common-muster-errors">Common Muster Errors</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/glossary">Glossary</a></li><li class="navListItem"><a class="navItem" href="/muster/docs/changelog">Latest Changes</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/dwstech/muster/edit/develop/packages/website/docs/resources/04-essentials.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Essential Nodes</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="core-muster-nodes"></a><a href="#core-muster-nodes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Core Muster nodes</h2>
<h3><a class="anchor" aria-hidden="true" id="ref-muster-api-latest-modules-musterhtml-ref"></a><a href="#ref-muster-api-latest-modules-musterhtml-ref" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#ref">Ref</a></h3>
<p>A helper function used for locating nodes in the muster graph.</p>
<p>After a value, this is the most useful node in the whole of muster. It can be used in the dependencies of a computed, to link parts of the graph, as an output of a computed, etc.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Joe'</span>,
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Making a reference to `name`'</span>);
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'name'</span>));
<span class="hljs-built_in">console</span>.log(result);

<span class="hljs-comment">// console output:</span>
<span class="hljs-comment">// Making a reference to `name`</span>
<span class="hljs-comment">// Joe</span>

</code></pre>
<h3><a class="anchor" aria-hidden="true" id="variable-muster-api-latest-modules-musterhtml-variable"></a><a href="#variable-muster-api-latest-modules-musterhtml-variable" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#variable">Variable</a></h3>
<p>Creates a new instance of a variable node, which is a node that can store values. Its read and write process is synchronous. Each variable node has an initial value that defines both the node's starting value and its fallback when reset. See the reset and &quot;Resetting variables&quot; example to learn more about resetting variables.</p>
<p>The example below utilises another node (set) which will be introduced below.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { ref, set, variable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">name</span>: variable(<span class="hljs-string">'Bob'</span>),
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Retrieving a name'</span>);
app.resolve(ref(<span class="hljs-string">'name'</span>)).subscribe(<span class="hljs-function">(<span class="hljs-params">name</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Name: <span class="hljs-subst">${name}</span>`</span>);
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Setting a name to John'</span>);
<span class="hljs-keyword">await</span> app.resolve(set(<span class="hljs-string">'name'</span>, <span class="hljs-string">'John'</span>));

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Retrieving a name</span>
<span class="hljs-comment">// Name: Bob</span>
<span class="hljs-comment">// Setting a name to John</span>
<span class="hljs-comment">// Name: John</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="set-muster-api-latest-modules-musterhtml-set"></a><a href="#set-muster-api-latest-modules-musterhtml-set" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#set">Set</a></h3>
<p>Set is a node which allows for setting values of certain nodes, e.g. variable, fromPromise and placeholder.</p>
<p>The output of a set is the same as a value property.</p>
<p>When resolving a set against an asynchronous node like fromPromise, the value from the resolver will wait for fromPromise to update to new value, then emit value from set.</p>
<h4><a class="anchor" aria-hidden="true" id="setting-a-variable"></a><a href="#setting-a-variable" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting a variable</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { set, variable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">name</span>: variable(<span class="hljs-string">'Bob'</span>),
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Setting variable'</span>);
app.resolve(set(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Jane'</span>)).subscribe(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-comment">// result === 'Jane'</span>
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Set resolved'</span>);
});
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'End'</span>);

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Setting variable</span>
<span class="hljs-comment">// Set resolved</span>
<span class="hljs-comment">// End</span>
</code></pre>
<p>This example demonstrates how a set can be used to update the value of a variable. The set also returns the value set to the target node.</p>
<h4><a class="anchor" aria-hidden="true" id="setting-asynchronous-nodes"></a><a href="#setting-asynchronous-nodes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setting asynchronous nodes</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { fromPromise, set } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">let</span> savedName = <span class="hljs-string">'Bob'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">name</span>: fromPromise({
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">Promise</span>.resolve(savedName),
    <span class="hljs-attr">set</span>: <span class="hljs-function">(<span class="hljs-params">props, newValue</span>) =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-comment">// newValue is a ValueNode</span>
      savedName = newValue;
      resolve();
    }),
  }),
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Setting variable'</span>);
app.resolve(set(<span class="hljs-string">'name'</span>, <span class="hljs-string">'Jane'</span>)).subscribe(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> {
  <span class="hljs-comment">// result === 'Jane'</span>
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Set resolved'</span>);
});
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'End'</span>);

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Setting variable</span>
<span class="hljs-comment">// End</span>
<span class="hljs-comment">// Set resolved</span>
</code></pre>
<p>This example demonstrates that a set waits for the target value to be updated before returning a result.</p>
<h3><a class="anchor" aria-hidden="true" id="value-muster-api-latest-modules-musterhtml-value"></a><a href="#value-muster-api-latest-modules-musterhtml-value" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#value">Value</a></h3>
<p>The value node is used for storing raw data and for sending data to other nodes.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> { value } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

value(<span class="hljs-string">'Hello world'</span>);      <span class="hljs-comment">// Create a value node storing a string</span>
value(<span class="hljs-number">123</span>);                <span class="hljs-comment">// Create a value node storing a number</span>
value({ <span class="hljs-attr">hello</span>: <span class="hljs-string">'world'</span> }); <span class="hljs-comment">// Create a value node storing an object</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="callable-functions"></a><a href="#callable-functions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callable Functions</h2>
<h3><a class="anchor" aria-hidden="true" id="fn-muster-api-latest-modules-musterhtml-fn"></a><a href="#fn-muster-api-latest-modules-musterhtml-fn" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#fn">fn</a></h3>
<p>fn is a type of NodeDefinition used for representing executable functions implemented with muster NodeDefinitions. These functions are safely serializable and can be executed on a remote muster instances.</p>
<p>The fn can be executed with the help of call and apply.
Create a simple fn</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> { fn, value } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> value(<span class="hljs-literal">true</span>));
</code></pre>
<p>This example shows how to create a very basic fn that simply returns a true value ever time it gets called.</p>
<p>Calling an fn</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { add, call, fn } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">addFive</span>: fn(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> add(num, <span class="hljs-number">5</span>)),
});

<span class="hljs-keyword">await</span> app.resolve(call(<span class="hljs-string">'addFive'</span>, [<span class="hljs-number">3</span>]));
<span class="hljs-comment">// === 8</span>
</code></pre>
<p>This example shows how to call an fn. See the call documentation to learn more about calling callable nodes.</p>
<h3><a class="anchor" aria-hidden="true" id="action-muster-api-latest-modules-musterhtml-action-2"></a><a href="#action-muster-api-latest-modules-musterhtml-action-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#action-2">Action</a></h3>
<p>Action is a type of NodeDefinition that allows for defining reusable fragments of code which can interact with the graph. The action on its own is treated as a data-node - just like a value or an array but it can be used as a target for a call or apply nodes.</p>
<p>The action can return three types of values:</p>
<ul>
<li>void/undefined: for very simple actions that don't interact with the graph</li>
<li>A NodeDefinition: an output of the action. This node can be resolved later.</li>
<li>An iterator of GraphNodes: the most common use for the action. The action body can be defined as a generator function. This way the action can perform complex operations. See the &quot;Using generators in an action node&quot; example to learn more.</li>
</ul>
<p>The below example also makes use of the call node which is described below.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { action, call } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">logWhenCalled</span>: action(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Action has been called'</span>);
  }),
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Calling action'</span>);
<span class="hljs-keyword">const</span> output = <span class="hljs-keyword">await</span> app.resolve(call(<span class="hljs-string">'logWhenCalled'</span>));
<span class="hljs-comment">// output === undefined</span>

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Calling action</span>
<span class="hljs-comment">// Action has been called</span>
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="returning-a-value-from-an-action"></a><a href="#returning-a-value-from-an-action" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Returning a value from an action</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { action, call } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">getFullName</span>: action(<span class="hljs-function">(<span class="hljs-params">firstName, lastName</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${firstName}</span> <span class="hljs-subst">${lastName}</span>`</span>),
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Calling action'</span>);
<span class="hljs-keyword">const</span> fullName = <span class="hljs-keyword">await</span> app.resolve(call(<span class="hljs-string">'getFullName'</span>, [<span class="hljs-string">'Rosalind'</span>, <span class="hljs-string">'Franklin'</span>]));
<span class="hljs-comment">// fullName === 'Rosalind Franklin'</span>

<span class="hljs-built_in">console</span>.log(fullName);

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Calling action</span>
<span class="hljs-comment">// Rosalind Franklin</span>
</code></pre>
<p>This example shows how to return values from an action. As with the computed node, the value returned from the action function is converted to a value if is not already a NodeDefinition.</p>
<h3><a class="anchor" aria-hidden="true" id="call-muster-api-latest-modules-musterhtml-call"></a><a href="#call-muster-api-latest-modules-musterhtml-call" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#call">Call</a></h3>
<p>Call is a node which is used when calling a NodeDefinition that implements a call method, e.g. action, fn or placeholder.</p>
<p>This example shows how to use a call node to call a fn node:</p>
<pre><code class="hljs css language-javascript">Call an fn node

<span class="hljs-keyword">import</span> muster, { call, fn, value } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">getGreeting</span>: fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> value(<span class="hljs-string">'Hello world'</span>)),
});

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Calling the fn'</span>);
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(call(<span class="hljs-string">'getGreeting'</span>));
<span class="hljs-comment">// result === 'Hello world'</span>

<span class="hljs-built_in">console</span>.log(result);

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Calling the fn</span>
<span class="hljs-comment">// Hello world</span>

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="resolution-functions"></a><a href="#resolution-functions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resolution Functions</h2>
<h3><a class="anchor" aria-hidden="true" id="series-muster-api-latest-modules-musterhtml-series"></a><a href="#series-muster-api-latest-modules-musterhtml-series" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#series">Series</a></h3>
<p><code>series([arg 1, arg 2, ..., arg n])</code> is a resolvable node that takes a list of statements to be executed, with the last being a <code>return</code> statement. The statements are executed in sequence.</p>
<h4><a class="anchor" aria-hidden="true" id="resolving-a-series"></a><a href="#resolving-a-series" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resolving a series</h4>
<p>This example shows how to use the series node to execute a series of nodes.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { series, set, value, variable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">name</span>: variable(<span class="hljs-string">'initial name'</span>),
  <span class="hljs-attr">description</span>: variable(<span class="hljs-string">'initial description'</span>),
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(series([
  set(<span class="hljs-string">'name'</span>, <span class="hljs-string">'updated name'</span>),
  set(<span class="hljs-string">'description'</span>, <span class="hljs-string">'updated description'</span>),
  value(<span class="hljs-literal">true</span>),
]));
<span class="hljs-comment">// result === true</span>
</code></pre>
<p>In the above example:</p>
<ul>
<li><code>name</code> is set to <code>'updated name'</code></li>
<li><code>description</code> is now set to <code>'updated description'</code></li>
<li><code>true</code> is returned as it is the value found at the end of the <code>series()</code> node.</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="failing-an-operation-in-the-series"></a><a href="#failing-an-operation-in-the-series" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Failing an operation in the series</h4>
<p>This example shows what gets returned in the event of an error being returned by a node in the series.
import muster, { computed, error, ref, series } from '@dws/muster';</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { computed, ref, series } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;
<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">first</span>: computed([], () =&gt; {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Computing first'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
  }),
  <span class="hljs-attr">second</span>: computed([], () =&gt; {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Computing second'</span>);
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Boom!'</span>);
  }),
  <span class="hljs-attr">third</span>: computed([], () =&gt; {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Computing third'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;
  }),
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(series([
  ref(<span class="hljs-string">'first'</span>),
  ref(<span class="hljs-string">'second'</span>),
  ref(<span class="hljs-string">'third'</span>),
]));
<span class="hljs-comment">// result === 'Boom!'</span>

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// Computing first</span>
<span class="hljs-comment">// Computing second</span>
</code></pre>
<p>In the above example, the final <code>ref()</code> node in the series is not called because <code>ref('second')</code> throws an <code>Error()</code>, which breaks out of the sequence and its value <code>'Boom!'</code> is returned.</p>
<h3><a class="anchor" aria-hidden="true" id="parallel-muster-api-latest-modules-musterhtml-parallel"></a><a href="#parallel-muster-api-latest-modules-musterhtml-parallel" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#parallel">Parallel</a></h3>
<p><code>parallel([arg 1, arg 2, ..., arg n])</code> is a resolvable node used to perform a set of operations as a single combined operation.</p>
<h4><a class="anchor" aria-hidden="true" id="updating-multiple-nodes-at-the-same-time"></a><a href="#updating-multiple-nodes-at-the-same-time" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updating multiple nodes at the same time</h4>
<p>This example shows how to use the parallel node to call multiple <code>set()</code> operations to update three nodes at once.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { parallel, set, variable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">firstName</span>: variable(<span class="hljs-string">'Bob'</span>),
  <span class="hljs-attr">lastName</span>: variable(<span class="hljs-string">'Jones'</span>),
  <span class="hljs-attr">age</span>: variable(<span class="hljs-number">39</span>),
});

<span class="hljs-keyword">await</span> app.resolve(parallel([
  set(<span class="hljs-string">'firstName'</span>, <span class="hljs-string">'Jane'</span>),
  set(<span class="hljs-string">'lastName'</span>, <span class="hljs-string">'Doe'</span>),
  set(<span class="hljs-string">'age'</span>, <span class="hljs-number">24</span>),
]));
</code></pre>
<p>After the above example is executed:</p>
<ul>
<li><code>firstName</code> is set to <code>'Jane'</code></li>
<li><code>lastName</code> is set to <code>'Doe'</code></li>
<li><code>age</code> is set to <code>24</code></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="requesting-the-values-of-multiple-nodes-at-the-same-time"></a><a href="#requesting-the-values-of-multiple-nodes-at-the-same-time" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requesting the values of multiple nodes at the same time</h4>
<p>This example shows how to use the parallel node to call multiple <code>ref()</code> operations to get the values of three nodes at once.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { entries, parallel, query, ref, variable } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">firstValue</span>: <span class="hljs-string">'Items'</span>,
  <span class="hljs-attr">secondValue</span>: <span class="hljs-string">'in'</span>,
  <span class="hljs-attr">thirdValue</span>: <span class="hljs-string">'parallel'</span>,
  <span class="hljs-attr">parallelRef</span>: parallel([
    ref(firstValue),
    ref(secondValue),
    ref(thirdValue)
  ])
});

<span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'parallelRef'</span>), entries()));

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// ["Items", "in", "parallel"]</span>
</code></pre>
<p>As can be seen from the above example, the <code>parallel()</code> node returns its many values in the form of an array.</p>
<h2><a class="anchor" aria-hidden="true" id="logic"></a><a href="#logic" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Logic</h2>
<h3><a class="anchor" aria-hidden="true" id="and-muster-api-latest-modules-musterhtml-and"></a><a href="#and-muster-api-latest-modules-musterhtml-and" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#and">AND</a> (&amp;&amp;)</h3>
<p><code>and(arg 1, ..., arg n)</code> is a logical node that takes one-or-more arguments and resolves to <code>true</code> if and only if all arguments are truthy, <code>false</code> otherwise.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { computed, or } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({});
<span class="hljs-keyword">await</span> app.resolve(and(<span class="hljs-literal">true</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(and(<span class="hljs-literal">false</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(and(<span class="hljs-string">'hello world'</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(and(<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(and(<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(and(<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">'hello world'</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(and(computed([], () =&gt; <span class="hljs-literal">true</span>), <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(and(computed([], () =&gt; <span class="hljs-literal">true</span>), <span class="hljs-literal">true</span>)) <span class="hljs-comment">// === false</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="or-muster-api-latest-modules-musterhtml-or"></a><a href="#or-muster-api-latest-modules-musterhtml-or" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#or">OR</a> (||)</h3>
<p><code>or(arg 1, ..., arg n)</code> is a logical node that takes one-or-more arguments and resolves to <code>true</code> if any of its arguments are truthy, <code>false</code> otherwise.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { computed, or } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({});
<span class="hljs-keyword">await</span> app.resolve(or(<span class="hljs-literal">true</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(or(<span class="hljs-literal">false</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(or(<span class="hljs-string">'hello world'</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(or(<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(or(<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(or(<span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">'hello world'</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(or(computed([], () =&gt; <span class="hljs-literal">true</span>), <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(or(computed([], () =&gt; <span class="hljs-literal">false</span>), <span class="hljs-literal">false</span>)) <span class="hljs-comment">// === false</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="not-muster-api-latest-modules-musterhtml-not"></a><a href="#not-muster-api-latest-modules-musterhtml-not" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#not">NOT</a> (!)</h3>
<p><code>not(arg)</code> is a logical node that takes one argument and resolves to the inverse <code>boolean</code> value of its input. Inputs are evaluated for truthiness.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { computed, not, value } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({});
<span class="hljs-keyword">await</span> app.resolve(not(<span class="hljs-literal">false</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(not(<span class="hljs-literal">true</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(not(<span class="hljs-string">'hello world'</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(not(<span class="hljs-number">123</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(not(value({ }))) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(not(not(<span class="hljs-literal">true</span>))) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(not(computed([], () =&gt; <span class="hljs-literal">false</span>))) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(not(computed([], () =&gt; <span class="hljs-literal">true</span>))) <span class="hljs-comment">// === false</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="eq-muster-api-latest-modules-musterhtml-eq"></a><a href="#eq-muster-api-latest-modules-musterhtml-eq" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#eq">Eq</a> (===)</h3>
<p><code>eq(arg1, arg2)</code> is a logical node that takes two arguments and resolves to <code>true</code> if they are equal, <code>false</code> otherwise. <code>eq()</code> is the Muster equivalent to the strict equality operator (<code>===</code>) in JavaScript.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { computed, eq } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({});
<span class="hljs-keyword">await</span> app.resolve(eq(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(eq(<span class="hljs-number">123</span>, <span class="hljs-number">321</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(eq(<span class="hljs-string">'1'</span>, <span class="hljs-number">1</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(eq(<span class="hljs-string">'Hello world'</span>, <span class="hljs-string">'Hello world'</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(eq(computed([], () =&gt; <span class="hljs-number">123</span>), <span class="hljs-number">123</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(eq(<span class="hljs-string">'test 1'</span>, <span class="hljs-string">'test 2'</span>)) <span class="hljs-comment">//=== false</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="inequality"></a><a href="#inequality" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inequality</h3>
<p>Muster has many nodes for evaluating inequalities, depending on the type of comparison that needs to be compared:</p>
<ul>
<li><code>gt(arg 1, arg 2)</code> - <a href="/muster/api/latest/modules/muster.html#gt">Greater than</a> - Resolves to <code>true</code> if and only if arg 1 &gt; arg 2.</li>
<li><code>gte(arg 1, arg 2)</code> - <a href="/muster/api/latest/modules/muster.html#gte">Greater than or equal to</a> - Resolves to <code>true</code> if and only if arg 1 &gt;= arg 2.</li>
<li><code>lt(arg 1, arg 2)</code> - <a href="/muster/api/latest/modules/muster.html#lt">Less than</a> - Resolves to <code>true</code> if and only if arg 1 &lt; arg 2.</li>
<li><code>lte(arg 1, arg 2)</code> - <a href="/muster/api/latest/modules/muster.html#lte">Less than or equal to</a> - Resolves to <code>true</code> if and only if arg 1 &lt;= arg 2.</li>
</ul>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { gt, gte, lt, lte } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({});

<span class="hljs-keyword">await</span> app.resolve(gt(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(gt(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(gt(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === true</span>

<span class="hljs-keyword">await</span> app.resolve(gte(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(gte(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(gte(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === true</span>

<span class="hljs-keyword">await</span> app.resolve(lt(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(lt(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === false</span>
<span class="hljs-keyword">await</span> app.resolve(lt(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === false</span>

<span class="hljs-keyword">await</span> app.resolve(lte(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(lte(<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === true</span>
<span class="hljs-keyword">await</span> app.resolve(lte(<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)) <span class="hljs-comment">// === false</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="arithmetic"></a><a href="#arithmetic" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Arithmetic</h2>
<h3><a class="anchor" aria-hidden="true" id="add-muster-api-latest-modules-musterhtml-add"></a><a href="#add-muster-api-latest-modules-musterhtml-add" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#add">Add</a></h3>
<p>Creates a new instance of an add which is a type of NodeDefinition used to compute the sum of multiple number-based values. The add takes any number of operands. It will throw an error if the number of operands is below 2 as it doesn't make sense to do the sum operation with a single operand.</p>
<p>The below example shows how to compute the sum of 5 and 3 using the add node:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { add, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">five</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">three</span>: <span class="hljs-number">3</span>,
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(
  add(ref(<span class="hljs-string">'five'</span>), ref(<span class="hljs-string">'three'</span>)),
);
<span class="hljs-comment">// result === 8</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="subtract-muster-api-latest-modules-musterhtml-subtract"></a><a href="#subtract-muster-api-latest-modules-musterhtml-subtract" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#subtract">Subtract</a></h3>
<p>Creates a new instance of a subtract node, which is a type of NodeDefinition used to compute the difference between multiple number-based values. The subtract node takes any number of operands. It will throw an error if the number of operands is below 2 as it doesn't make sense to do the subtraction operation with a single operand.</p>
<p>Subtract works in much the same way as 'Add' as shown in the example below:</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { ref, subtract } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">five</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">three</span>: <span class="hljs-number">3</span>,
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(
  subtract(ref(<span class="hljs-string">'five'</span>), ref(<span class="hljs-string">'three'</span>)),
);
<span class="hljs-comment">// result === 2</span>

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="collections"></a><a href="#collections" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Collections</h2>
<p>Currently Muster supports several collection data sources, and the two most common will be introduced below, namely array, and arrayList.</p>
<h3><a class="anchor" aria-hidden="true" id="array"></a><a href="#array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Array</h3>
<p>Array is a type of collection, much like an in-memory array you are no doubt familiar with. It is a fixed length data store, which can be access using the query node discussed previously.</p>
<p>Hopefully, the below example clears things up:</p>
<h4><a class="anchor" aria-hidden="true" id="basic-array-example"></a><a href="#basic-array-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Basic array example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { entries, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-comment">// Implicit conversion to an array()</span>
});

<span class="hljs-keyword">const</span> numbers = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbers'</span>), entries()));
<span class="hljs-comment">// numbers === [1, 2, 3]</span>
</code></pre>
<p>This example shows how to create a basic collection containing values, and how to access the items from it. The process of getting items out of collection requires the use of a query with an entries.</p>
<h4><a class="anchor" aria-hidden="true" id="complex-array-example"></a><a href="#complex-array-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Complex array example</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { entries, key, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">books</span>: [
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'Casino Royale'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Ian Fleming'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1953</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'Live and Let Die'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Ian Fleming'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1954</span> },
    { <span class="hljs-attr">title</span>: <span class="hljs-string">'The Big Four'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Agatha Christie'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1927</span> },
  ],
});

<span class="hljs-keyword">const</span> bookTitles = <span class="hljs-keyword">await</span> app.resolve(
  query(ref(<span class="hljs-string">'books'</span>), entries({
    <span class="hljs-attr">title</span>: key(<span class="hljs-string">'title'</span>),
  })),
);
<span class="hljs-comment">// bookTitles === [</span>
<span class="hljs-comment">//   { title: 'Casino Royale' },</span>
<span class="hljs-comment">//   { title: 'Live and Let Die' },</span>
<span class="hljs-comment">//   { title: 'The Big Four' },</span>
<span class="hljs-comment">// ];</span>
</code></pre>
<p>This example shows how to retrieve given fields from every item of the collection. Here, each collection item is a tree. This means that in order to get the value of an item, we have to make a query to specific fields of that branch. The query we made in this example requests the title of each book, but ignores the author and year.</p>
<h3><a class="anchor" aria-hidden="true" id="arraylist-muster-api-latest-modules-musterhtml-arraylist"></a><a href="#arraylist-muster-api-latest-modules-musterhtml-arraylist" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#arraylist">ArrayList</a></h3>
<p>Creates a new instance of a arrayList node, which is a type of NodeDefinition used when creating a mutable in-memory array. This array allows for a following operations:</p>
<ul>
<li><a href="/muster/api/latest/modules/muster.html#push-1">push(item)</a></li>
<li><a href="/muster/api/latest/modules/muster.html#pop">pop()</a></li>
<li><a href="/muster/api/latest/modules/muster.html#shift">shift()</a></li>
<li><a href="/muster/api/latest/modules/muster.html#unshift-1">unshift(item)</a></li>
<li><a href="/muster/api/latest/modules/muster.html#additemat">addItemAt(item, index)</a></li>
<li><a href="/muster/api/latest/modules/muster.html#removeitemat">removeItemAt(index)</a></li>
<li><a href="/muster/api/latest/modules/muster.html#length-1">length()</a></li>
<li><a href="/muster/api/latest/modules/muster.html#clear">clear()</a></li>
</ul>
<p>When modified in any way this array retains the state for as long as the parent scope exists, or until a reset operation is executed on the array. This behaviour resembles the behaviour of a variable node.</p>
<h4><a class="anchor" aria-hidden="true" id="create-a-simple-array"></a><a href="#create-a-simple-array" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create a simple array</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { arrayList, entries, push, pop, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: arrayList([<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>]),
});

app.resolve(query(ref(<span class="hljs-string">'numbers'</span>), entries())).subscribe(<span class="hljs-function">(<span class="hljs-params">numbers</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(numbers);
});

<span class="hljs-keyword">await</span> app.resolve(push(ref(<span class="hljs-string">'numbers'</span>), <span class="hljs-number">4</span>));
<span class="hljs-keyword">await</span> app.resolve(pop(ref(<span class="hljs-string">'numbers'</span>))); <span class="hljs-comment">// === 4</span>
<span class="hljs-keyword">await</span> app.resolve(pop(ref(<span class="hljs-string">'numbers'</span>))); <span class="hljs-comment">// === 2</span>
<span class="hljs-keyword">await</span> app.resolve(pop(ref(<span class="hljs-string">'numbers'</span>))); <span class="hljs-comment">// === 3</span>
<span class="hljs-keyword">await</span> app.resolve(pop(ref(<span class="hljs-string">'numbers'</span>))); <span class="hljs-comment">// === 1</span>
<span class="hljs-keyword">await</span> app.resolve(pop(ref(<span class="hljs-string">'numbers'</span>))); <span class="hljs-comment">// === null</span>
<span class="hljs-keyword">await</span> app.resolve(pop(ref(<span class="hljs-string">'numbers'</span>))); <span class="hljs-comment">// === null</span>

<span class="hljs-comment">// Console output:</span>
<span class="hljs-comment">// [1, 3, 2]</span>
<span class="hljs-comment">// [1, 3, 2, 4]</span>
<span class="hljs-comment">// [1, 3, 2]</span>
<span class="hljs-comment">// [1, 3]</span>
<span class="hljs-comment">// [1]</span>
<span class="hljs-comment">// []</span>
</code></pre>
<p>This example shows how to create a simple mutable array and use a few operations on it.</p>
<h3><a class="anchor" aria-hidden="true" id="collection-transforms"></a><a href="#collection-transforms" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Collection Transforms</h3>
<p>As well as collections being a data store, it is also possible to perform transformations on the collection. Below are some of the more common transforms.</p>
<h3><a class="anchor" aria-hidden="true" id="filter-muster-api-latest-modules-musterhtml-filter"></a><a href="#filter-muster-api-latest-modules-musterhtml-filter" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#filter">Filter</a></h3>
<p>Creates a new instance of a filter node, which is a type of collection node transform used to filter the items returned from a collection using a given predicate. The predicates are constructed from muster logic nodes.</p>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { applyTransforms, filter, gt, entries, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: applyTransforms(
    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
    [filter(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> gt(item, <span class="hljs-number">2</span>))],
  ),
});

<span class="hljs-keyword">const</span> filteredNumbers = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbers'</span>), entries()));
<span class="hljs-comment">// filteredNumbers === [3, 4, 5]</span>
</code></pre>
<p>This example shows how to apply a filter to a collection. The predicate from this example uses a gt node for filtering items that are greater than 2. See the gt documentation for more information.</p>
<h4><a class="anchor" aria-hidden="true" id="applying-filters-in-a-query"></a><a href="#applying-filters-in-a-query" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Applying filters in a query</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { filter, lt, entries, query, ref, withTransforms } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
});

<span class="hljs-keyword">const</span> filteredNumbers = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbers'</span>), withTransforms([
  filter(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> lt(item, <span class="hljs-number">4</span>)),
], entries())));
<span class="hljs-comment">// filteredNumbers === [1, 2, 3]</span>
</code></pre>
<p>This example shows how to apply a filter to a collection from within a query node. The filter predicate uses a lt node to filter the items with a value of less than 4.</p>
<h4><a class="anchor" aria-hidden="true" id="complex-filters"></a><a href="#complex-filters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Complex filters</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { and, applyTransforms, entries, filter, gt, key, lt, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">books</span>: applyTransforms(
    [
      { <span class="hljs-attr">title</span>: <span class="hljs-string">'Casino Royale'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Ian Fleming'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1953</span> },
      { <span class="hljs-attr">title</span>: <span class="hljs-string">'Live and Let Die'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Ian Fleming'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1954</span> },
      { <span class="hljs-attr">title</span>: <span class="hljs-string">'The Big Four'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Agatha Christie'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">1927</span> },
      { <span class="hljs-attr">title</span>: <span class="hljs-string">'The Martian'</span>, <span class="hljs-attr">author</span>: <span class="hljs-string">'Andy Weir'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2011</span> },
    ],
    [
      filter(<span class="hljs-function">(<span class="hljs-params">book</span>) =&gt;</span> and(
        gt(ref({ <span class="hljs-attr">root</span>: book, <span class="hljs-attr">path</span>: <span class="hljs-string">'year'</span> }), <span class="hljs-number">1930</span>),
        lt(ref({ <span class="hljs-attr">root</span>: book, <span class="hljs-attr">path</span>: <span class="hljs-string">'year'</span> }), <span class="hljs-number">2000</span>),
      )),
    ],
  ),
});

<span class="hljs-keyword">const</span> booksBetween1930and2000 = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'books'</span>), entries({
  <span class="hljs-attr">title</span>: key(<span class="hljs-string">'title'</span>)
})));
<span class="hljs-comment">// booksBetween1930and2000 === [</span>
<span class="hljs-comment">//   { title: 'Casino Royale' },</span>
<span class="hljs-comment">//   { title: 'Live and Let Die' },</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>This example shows how to create complex queries with an and node. These nodes can be nested indefinitely.</p>
<h3><a class="anchor" aria-hidden="true" id="sort-muster-api-latest-modules-musterhtml-sort"></a><a href="#sort-muster-api-latest-modules-musterhtml-sort" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#sort">Sort</a></h3>
<p>Creates a new instance of a sort node, which is a type of collection transform used to sort the output of a collection. The sort order takes an array of sortOrders which define the ordering of the sort. The items of the order array are assuming a descending order of priority, with the first item having the highest priority and the last one having the lowest.</p>
<p>Sort order can be defined with the help of two helper functions:</p>
<ul>
<li><a href="/muster/api/latest/modules/muster.html#ascending">ascending</a></li>
<li><a href="/muster/api/latest/modules/muster.html#descending">descending</a></li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="sorting-numbers"></a><a href="#sorting-numbers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sorting numbers</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, {
  ascending,
  descending,
  entries,
  query,
  ref,
  sort,
  withTransforms,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>],
});

<span class="hljs-keyword">const</span> ascendingNumbers = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbers'</span>), withTransforms([
  sort(ascending(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item)),
], entries())));
<span class="hljs-comment">// ascendingNumbers === [1, 2, 3, 4, 5]</span>

<span class="hljs-keyword">const</span> descendingNumbers = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbers'</span>), withTransforms([
  sort(descending(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item)),
], entries())));
<span class="hljs-comment">// descendingNumbers === [5, 4, 3, 2, 1]</span>
</code></pre>
<p>This example shows how to apply the most basic sort transform. Although the sort officially takes an array of sort orders, you can still define a sort with a single sortOrder.</p>
<h4><a class="anchor" aria-hidden="true" id="sorting-branches"></a><a href="#sorting-branches" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sorting Branches</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, {
  ascending,
  descending,
  get,
  entries,
  key,
  query,
  ref,
  sort,
  withTransforms,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">cars</span>: [
    { <span class="hljs-attr">make</span>: <span class="hljs-string">'Mercedes'</span>, <span class="hljs-attr">model</span>: <span class="hljs-string">'C 63 AMG'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2017</span> },
    { <span class="hljs-attr">make</span>: <span class="hljs-string">'Mercedes'</span>, <span class="hljs-attr">model</span>: <span class="hljs-string">'A'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2009</span> },
    { <span class="hljs-attr">make</span>: <span class="hljs-string">'Audi'</span>, <span class="hljs-attr">model</span>: <span class="hljs-string">'R8'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2013</span> },
    { <span class="hljs-attr">make</span>: <span class="hljs-string">'Audi'</span>, <span class="hljs-attr">model</span>: <span class="hljs-string">'A4'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2018</span> },
    { <span class="hljs-attr">make</span>: <span class="hljs-string">'Toyota'</span>, <span class="hljs-attr">model</span>: <span class="hljs-string">'Corolla'</span>, <span class="hljs-attr">year</span>: <span class="hljs-number">2016</span> },
  ],
});

<span class="hljs-keyword">const</span> sortedCars = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'cars'</span>), withTransforms([
  sort([
    ascending(<span class="hljs-function">(<span class="hljs-params">car</span>) =&gt;</span> get(car, <span class="hljs-string">'make'</span>)),
    descending(<span class="hljs-function">(<span class="hljs-params">car</span>) =&gt;</span> get(car, <span class="hljs-string">'year'</span>)),
  ]),
], entries({
  <span class="hljs-attr">make</span>: key(<span class="hljs-string">'make'</span>),
  <span class="hljs-attr">model</span>: key(<span class="hljs-string">'model'</span>),
  <span class="hljs-attr">year</span>: key(<span class="hljs-string">'year'</span>),
}))));
<span class="hljs-comment">// sortedCars = [</span>
<span class="hljs-comment">//   { make: 'Audi', model: 'A4', year: 2018 },</span>
<span class="hljs-comment">//   { make: 'Audi', model: 'R8', year: 2013 },</span>
<span class="hljs-comment">//   { make: 'Mercedes', model: 'C 63 AMG', year: 2017 },</span>
<span class="hljs-comment">//   { make: 'Mercedes', model: 'A', year: 2009 },</span>
<span class="hljs-comment">//   { make: 'Toyota', model: 'Corolla', year: 2016 },</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>This example shows how to implement a transform that sorts by the given leaves of a branch. It shows the implementation of the example that was featured in the description of the sort.</p>
<h3><a class="anchor" aria-hidden="true" id="map"></a><a href="#map" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Map</h3>
<p>Creates a new instance of a map node, which is a type of collection transform used when mapping items from one representation from to another. This type of transform can be thought of as akin to JavaScript's Array.map function.</p>
<h4><a class="anchor" aria-hidden="true" id="simple-mapper"></a><a href="#simple-mapper" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple mapper</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { applyTransforms, entries, map, multiply, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
  <span class="hljs-attr">numbersTimes2</span>: applyTransforms(ref(<span class="hljs-string">'numbers'</span>), [
    map(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> multiply(item, <span class="hljs-number">2</span>)),
  ]),
});

<span class="hljs-keyword">const</span> numbersTimes2 = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbersTimes2'</span>), entries()));
<span class="hljs-comment">// numbersTimes2 === [2, 4, 6, 8]</span>
</code></pre>
<p>This example shows how to use a map to multiply every item of the collection by 2. The multiplication is done with help of an arithmetic graph node, multiply.</p>
<h4><a class="anchor" aria-hidden="true" id="mapping-branches"></a><a href="#mapping-branches" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mapping branches</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { applyTransforms, get, entries, key, map, query, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">numbers</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>],
  <span class="hljs-attr">numbersAsBranches</span>: applyTransforms(ref(<span class="hljs-string">'numbers'</span>), [
    map(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> ({ <span class="hljs-attr">number</span>: item })),
  ]),
});

<span class="hljs-keyword">const</span> numbers = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'numbersAsBranches'</span>), entries({
  <span class="hljs-attr">number</span>: key(<span class="hljs-string">'number'</span>),
})));
<span class="hljs-comment">// numbers === [</span>
<span class="hljs-comment">//   { number: 1 },</span>
<span class="hljs-comment">//   { number: 2 },</span>
<span class="hljs-comment">//   { number: 3 },</span>
<span class="hljs-comment">//   { number: 4 },</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>This example shows how to use a map transform to change the shape of items. It converts each item from a simple value to a tree with a branch named number containing the item's original value.</p>
<h2><a class="anchor" aria-hidden="true" id="graph"></a><a href="#graph" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Graph</h2>
<p>Muster comes with functionality to manipulate and restrict the shape of a graph without editing it directly. This includes using the <code>scope()</code> node to obscure a part of a graph in an isolated environment and <code>extend()</code> to append nodes to an existing graph to be used contextually.</p>
<h3><a class="anchor" aria-hidden="true" id="scope-muster-api-latest-modules-musterhtml-scope"></a><a href="#scope-muster-api-latest-modules-musterhtml-scope" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#scope">Scope</a></h3>
<p>Creates a new instance of a scope node, which is used when to isolate part of the muster graph from the rest.</p>
<ul>
<li>The nodes from a scope are accessible from the parent scope.</li>
<li>The nodes within the scope cannot access anything from the parent scope.</li>
</ul>
<p>By default, the scope also isolates the scope from external events and prevents the events dispatched in this scope leaving it. The behaviour of isolating scope from events dispatched in the parent scope can be overwritten with the help of the <code>redispatch</code> property.</p>
<p>See <a href="/muster/api/modules/muster.html#dispatch">dispatch</a> to learn more about event dispatching and how to configure the event re-dispatching.</p>
<h4><a class="anchor" aria-hidden="true" id="defining-a-scope"></a><a href="#defining-a-scope" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Defining a scope</h4>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> muster, { ref, scope } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">nested</span>: scope({
    <span class="hljs-attr">value</span>: <span class="hljs-string">'Hello, Bob'</span>,
  }),
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'nested'</span>, <span class="hljs-string">'value'</span>));
<span class="hljs-comment">// result === 'Hello, Bob'</span>
</code></pre>
<p>This example shows how to create a scope with a single branch containing a value leaf. This leaf can be accessed as if the scope was a normal branch.</p>
<h4><a class="anchor" aria-hidden="true" id="references-inside-a-scope"></a><a href="#references-inside-a-scope" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>References inside a scope</h4>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> muster, { ref, scope } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">greeting</span>: <span class="hljs-string">'Hello, world'</span>,
  <span class="hljs-attr">nested</span>: scope({
    <span class="hljs-attr">greeting</span>: <span class="hljs-string">'Hello, Bob'</span>,
    <span class="hljs-attr">refToGreeting</span>: ref(<span class="hljs-string">'greeting'</span>),
  }),
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'nested'</span>, <span class="hljs-string">'greeting'</span>));
<span class="hljs-comment">// result === 'Hello, Bob'</span>
</code></pre>
<p>This example shows how addressing changes within a given scope. Normally, <code>ref('greeting')</code> would have returned <code>value('Hello, world')</code> but a scope changes the root of the graph. Any <code>ref()</code> node within a scope can only reference branches the scope encapsulates.</p>
<h3><a class="anchor" aria-hidden="true" id="context-muster-api-latest-modules-musterhtml-context"></a><a href="#context-muster-api-latest-modules-musterhtml-context" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#context">Context</a></h3>
<p><code>context()</code> is a node which is used to inject nodes from outside a given scope into that scope.</p>
<h4><a class="anchor" aria-hidden="true" id="injecting-nodes-into-a-scope"></a><a href="#injecting-nodes-into-a-scope" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Injecting nodes into a scope</h4>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> muster, { context, ref, scope } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">greeting</span>: <span class="hljs-string">'Hello, world'</span>,
  <span class="hljs-attr">nested</span>: scope({
    <span class="hljs-attr">greeting</span>: context(<span class="hljs-string">'message'</span>),
  }, {
    <span class="hljs-attr">message</span>: ref(<span class="hljs-string">'greeting'</span>),
  }),
});

<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'nested'</span>, <span class="hljs-string">'greeting'</span>));
<span class="hljs-comment">// result === 'Hello, world'</span>
</code></pre>
<p>This example shows the syntax for using the context node to refer to the outer <code>greeting</code> branch in order to access its value from the <code>greeting</code> branch in the scope.</p>
<h3><a class="anchor" aria-hidden="true" id="extend-muster-api-latest-modules-musterhtml-extend"></a><a href="#extend-muster-api-latest-modules-musterhtml-extend" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#extend">Extend</a></h3>
<p>The <code>extend()</code> node is used to append nodes to an existing branch of a graph.</p>
<h4><a class="anchor" aria-hidden="true" id="extending-an-existing-branch"></a><a href="#extending-an-existing-branch" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extending an existing branch</h4>
<pre><code class="hljs css language-js"><span class="hljs-keyword">import</span> muster, { extend, key, query, ref, tree, value } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">user</span>: {
    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Bob'</span>,
    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'Roberson'</span>,
  },
  <span class="hljs-attr">extendedUser</span>: extend(
    ref(<span class="hljs-string">'user'</span>),
    tree({
      <span class="hljs-attr">age</span>: value(<span class="hljs-number">29</span>),
    }),
  ),
});

<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> app.resolve(query(ref(<span class="hljs-string">'extendedUser'</span>), {
  <span class="hljs-attr">firstName</span>: key(<span class="hljs-string">'firstName'</span>),
  <span class="hljs-attr">lastName</span>: key(<span class="hljs-string">'lastName'</span>),
  <span class="hljs-attr">age</span>: key(<span class="hljs-string">'age'</span>),
}));
<span class="hljs-comment">// user = {</span>
<span class="hljs-comment">//   firstName: 'Bob',</span>
<span class="hljs-comment">//   lastName: 'Roberson',</span>
<span class="hljs-comment">//   age: 29,</span>
<span class="hljs-comment">// }</span>
</code></pre>
<p>In this example, the initial branch of the tree only contains <code>firstName</code> and <code>lastName</code> as children of <code>user</code>. Using the extend node, the tree has <code>age</code> appended to it, which can be referenced by calling the name of the branch which performs the extension.</p>
<h2><a class="anchor" aria-hidden="true" id="browser"></a><a href="#browser" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Browser</h2>
<h3><a class="anchor" aria-hidden="true" id="location-muster-api-latest-modules-musterhtml-location"></a><a href="#location-muster-api-latest-modules-musterhtml-location" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="/muster/api/latest/modules/muster.html#location">Location</a></h3>
<p>Creates a new instance of a location node, which is a type of NodeDefinition used when accessing browser location. This node allows for reading/writing to the address bar, and can be used to implement custom routing mechanism. The path can be encoded using following formats:</p>
<ul>
<li>slash: #/home</li>
<li>noslash: #home</li>
<li>hashbang: #!/home</li>
</ul>
<h4><a class="anchor" aria-hidden="true" id="get-current-location"></a><a href="#get-current-location" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get current location</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { location, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">navigation</span>: location(),
});

<span class="hljs-comment">// Given a URL: #/</span>
<span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'navigation'</span>));
<span class="hljs-comment">// === { path: '/', params: {} }</span>

<span class="hljs-comment">// Given a URL: #/home?showWelcome=true</span>
<span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'navigation'</span>));
<span class="hljs-comment">// === { path: '/home', params: { showWelcome: 'true' } }</span>
</code></pre>
<p>This example shows how to get current path with parameters as a combined object.</p>
<h4><a class="anchor" aria-hidden="true" id="set-current-location"></a><a href="#set-current-location" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set current location</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { location, ref, set } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">navigation</span>: location(),
});

<span class="hljs-comment">// Given a URL: #/home</span>
<span class="hljs-keyword">await</span> app.resolve(set(ref(<span class="hljs-string">'navigation'</span>), { <span class="hljs-attr">path</span>: <span class="hljs-string">'/user'</span>, <span class="hljs-attr">params</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">10</span> } }));
<span class="hljs-comment">// URL after set: #/user?id=10</span>
</code></pre>
<p>This example shows how to set the current location to a new value.</p>
<h4><a class="anchor" aria-hidden="true" id="get-current-path"></a><a href="#get-current-path" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Get current path</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { location, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">navigation</span>: location(),
});

<span class="hljs-comment">// Given a URL: #/home?test=value</span>
<span class="hljs-keyword">await</span> app.resolve(ref(<span class="hljs-string">'navigation'</span>, <span class="hljs-string">'path'</span>));
<span class="hljs-comment">// === '/home'</span>
</code></pre>
<p>This example shows how to get only the path part of the URL. Internally the 'path' is handled by the locationPath node.</p>
<h4><a class="anchor" aria-hidden="true" id="set-current-path"></a><a href="#set-current-path" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set current path</h4>
<pre><code class="hljs css language-javascript"><span class="hljs-keyword">import</span> muster, { location, ref, set } <span class="hljs-keyword">from</span> <span class="hljs-string">'@dws/muster'</span>;

<span class="hljs-keyword">const</span> app = muster({
  <span class="hljs-attr">navigation</span>: location(),
});

<span class="hljs-comment">// Given a URL: #/home?id=12</span>
<span class="hljs-keyword">await</span> app.resolve(set(ref(<span class="hljs-string">'navigation'</span>, <span class="hljs-string">'path'</span>), <span class="hljs-string">'/user'</span>));
<span class="hljs-comment">// URL after set: #/user?id=12</span>
</code></pre>
<p>This example shows how to set only the path without overwriting path params. Internally the 'params' is handled by the locationPath node.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 2019-1-30</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/muster/docs/resources/faq"><span class="arrow-prev">← </span><span>Frequently Asked Questions (FAQ)</span></a><a class="docs-next button" href="/muster/docs/resources/common-muster-errors"><span>Common Muster Errors</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#core-muster-nodes">Core Muster nodes</a><ul class="toc-headings"><li><a href="#ref-muster-api-latest-modules-musterhtml-ref">Ref</a></li><li><a href="#variable-muster-api-latest-modules-musterhtml-variable">Variable</a></li><li><a href="#set-muster-api-latest-modules-musterhtml-set">Set</a></li><li><a href="#value-muster-api-latest-modules-musterhtml-value">Value</a></li></ul></li><li><a href="#callable-functions">Callable Functions</a><ul class="toc-headings"><li><a href="#fn-muster-api-latest-modules-musterhtml-fn">fn</a></li><li><a href="#action-muster-api-latest-modules-musterhtml-action-2">Action</a></li><li><a href="#call-muster-api-latest-modules-musterhtml-call">Call</a></li></ul></li><li><a href="#resolution-functions">Resolution Functions</a><ul class="toc-headings"><li><a href="#series-muster-api-latest-modules-musterhtml-series">Series</a></li><li><a href="#parallel-muster-api-latest-modules-musterhtml-parallel">Parallel</a></li></ul></li><li><a href="#logic">Logic</a><ul class="toc-headings"><li><a href="#and-muster-api-latest-modules-musterhtml-and">AND</a></li><li><a href="#or-muster-api-latest-modules-musterhtml-or">OR</a></li><li><a href="#not-muster-api-latest-modules-musterhtml-not">NOT</a></li><li><a href="#eq-muster-api-latest-modules-musterhtml-eq">Eq</a></li><li><a href="#inequality">Inequality</a></li></ul></li><li><a href="#arithmetic">Arithmetic</a><ul class="toc-headings"><li><a href="#add-muster-api-latest-modules-musterhtml-add">Add</a></li><li><a href="#subtract-muster-api-latest-modules-musterhtml-subtract">Subtract</a></li></ul></li><li><a href="#collections">Collections</a><ul class="toc-headings"><li><a href="#array">Array</a></li><li><a href="#arraylist-muster-api-latest-modules-musterhtml-arraylist">ArrayList</a></li><li><a href="#collection-transforms">Collection Transforms</a></li><li><a href="#filter-muster-api-latest-modules-musterhtml-filter">Filter</a></li><li><a href="#sort-muster-api-latest-modules-musterhtml-sort">Sort</a></li><li><a href="#map">Map</a></li></ul></li><li><a href="#graph">Graph</a><ul class="toc-headings"><li><a href="#scope-muster-api-latest-modules-musterhtml-scope">Scope</a></li><li><a href="#context-muster-api-latest-modules-musterhtml-context">Context</a></li><li><a href="#extend-muster-api-latest-modules-musterhtml-extend">Extend</a></li></ul></li><li><a href="#browser">Browser</a><ul class="toc-headings"><li><a href="#location-muster-api-latest-modules-musterhtml-location">Location</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/muster/" class="nav-home"><img src="/muster/img/muster.svg" alt="Muster" width="66" height="58"/></a><div><h5>Docs</h5><a href="/muster/docs/overview.html">Overview</a><a href="/muster/docs/learn/introduction.html">Guides</a><a href="/muster/api/latest/">API Reference</a><a href="/muster/playground/">Playground</a><a href="/muster/docs/resources/faq.html">FAQ</a></div><div><h5>Community</h5><a href="/muster/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/muster" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="/muster/docs/changelog.html">Changelog</a><a href="/muster/blog">Notes</a><a href="https://github.com/dwstech/muster">GitHub</a><a class="github-button" href="https://github.com/dwstech/muster" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://www.github.com/dwstech/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/muster/img/dws-logo-global.svg" alt="DWS Technology Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2019 DWS Technology</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '4f4b66eff796f1e1d48be066f0ac4cae',
                indexName: 'muster',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["language:en","version:6.7.0"]}
              });
            </script></body></html>